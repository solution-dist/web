var P0=Object.defineProperty;var X0=(q,G)=>{for(var J in G)P0(q,J,{get:G[J],enumerable:!0,configurable:!0,set:(O)=>G[J]=()=>O})};var $=function(q,G,J,O){var Q=arguments.length,W=Q<3?G:O===null?O=Object.getOwnPropertyDescriptor(G,J):O,Y;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")W=Reflect.decorate(q,G,J,O);else for(var Z=q.length-1;Z>=0;Z--)if(Y=q[Z])W=(Q<3?Y(W):Q>3?Y(G,J,W):Y(G,J))||W;return Q>3&&W&&Object.defineProperty(G,J,W),W};var L=(q,G)=>()=>(q&&(G=q(q=0)),G);function N(q){return q===!1||q===null||q===void 0||q===!0}function A(q){return typeof q=="string"||typeof q=="number"}function Z0(q){let G=[];for(let J of q)Array.isArray(J)?G.push(...Z0(J)):N(J)||G.push(J);return G}function T0(q){let G=[/<script[\s\S]*?<\/script>/gi,/javascript:/gi,/on\w+\s*=/gi,/<iframe[\s\S]*?<\/iframe>/gi,/<object[\s\S]*?<\/object>/gi,/<embed[\s\S]*?>/gi],J=q;for(let O of G)J=J.replace(O,"");return J}function f0(q,G){return q.childNodes[G]}function C(q){return typeof q=="function"}function z0(q){return q.startsWith("on")&&q.length>2}function I0(q){return q.substring(2).toLowerCase()}function B0(q){x={...x,...q}}function C0(){return{...x}}function U0(q,G,J){let O=q instanceof Y0?q:new Y0(q.message,G,J);if(x.onError)try{x.onError(O,G)}catch(Q){console.error("Error in custom error handler:",Q),console.error("Original error:",O)}else console.error("VDOM Error:",O.message),x.devMode&&G&&(console.error("VNode:",G),J&&console.error("Context:",J))}function p(q,G){x.devMode&&(console.warn(`[VDOM Warning]: ${q}`),G&&console.warn("VNode:",G))}function v0(q){let G=x.devMode?`[Render Error: ${q.message}]`:"[Render Error]";return document.createTextNode(G)}function y0(q){return!q||typeof q!="object"?!1:("type"in q)&&("props"in q)&&("children"in q)?typeof q.type!="string"?(x.devMode&&p("Invalid VNode type: must be a string",q),!1):Array.isArray(q.children)?!0:(x.devMode&&p("Invalid VNode children: must be an array",q),!1):(x.devMode&&p("Invalid VNode structure: missing required properties (type, props, children)",q),!1)}function X(q,G,...J){let O=Z0(J);if(q==="fragment")return{type:"fragment",props:{},children:O};let Q=G?{...G}:{};return Q.class&&!Q.className&&(Q.className=Q.class,delete Q.class),{type:q,props:Q,children:O}}function D(q,...G){let J={eventHandlers:new Map,vnodes:new Map,arrays:new Map,plainValues:new Map},O="";for(let W=0;W<q.length;W++){let Y=q[W];if(O+=Y,W<G.length){let Z=G[W];if(N(Z)){Z===!1&&b0(Y)&&(O+="false");continue}let z=h0(Z,W,J);O+=z}}let Q=E0(O,J);return $0(Q,J),Q}function $0(q,G){for(let[J,O]of Object.entries(q.props))if(J.startsWith("on")&&typeof O=="string"){if(G.eventHandlers.has(O)){q.props[J]=G.eventHandlers.get(O);continue}for(let[Q,W]of G.eventHandlers)if(O.includes(Q)){q.props[J]=W;break}}for(let J of q.children)J&&typeof J=="object"&&"type"in J&&$0(J,G)}function b0(q){let G=q.lastIndexOf("="),J=q.lastIndexOf(">");return G>J}function h0(q,G,J){if(Array.isArray(q)){let Q=`${E.ARRAY}${G}__`;return J.arrays.set(Q,q),Q}if(typeof q=="function"){let Q=`${E.EVENT}${G}__`;return J.eventHandlers.set(Q,q),Q}if(q&&typeof q=="object"&&"type"in q){let Q=`${E.VNODE}${G}__`;return J.vnodes.set(Q,q),Q}let O=`${E.VALUE}${G}__`;return J.plainValues.set(O,q),O}function E0(q,G){let J=C0(),O=q.trim();if(J.sanitizeHTML){let Z=[],z=0;O=O.replace(/\s+(on\w+)="(__EVENT_\d+__)"/g,(U,_,H)=>{let S=`data-vdom-event-${z}="${H}"`;return Z.push({placeholder:S,original:U}),z++,` ${S}`}),O=O.replace(/\s+(on\w+)=(__EVENT_\d+__)/g,(U,_,H)=>{let S=`data-vdom-event-${z}="${H}"`;return Z.push({placeholder:S,original:U}),z++,` ${S}`}),O=T0(O);for(let{placeholder:U,original:_}of Z)O=O.replace(U,_)}let Q=document.createElement("template");Q.innerHTML=O;let W=Q.content.firstChild;if(!W)return X("div",{},"");let Y=D0(W,G);return typeof Y=="string"?X("span",{},Y):Y}function D0(q,G){if(q.nodeType===Node.TEXT_NODE)return g0(q.textContent||"",G);if(q.nodeType!==Node.ELEMENT_NODE)return"";let J=q,O=d0(J.attributes,G),Q=c0(J.childNodes,G);return{type:J.tagName.toLowerCase(),props:O,children:Q}}function g0(q,G){for(let[O,Q]of G.arrays)if(q.includes(O))return{type:"fragment",props:{},children:Q.filter((W)=>!N(W))};for(let[O,Q]of G.vnodes)if(q.includes(O))return Q;let J=q;for(let[O,Q]of G.plainValues)J=J.replace(O,String(Q));return J}function d0(q,G){let J={};for(let O of Array.from(q)){let{name:Q,value:W}=O;if(Q.startsWith("on")){J[Q]=W;continue}if(Q==="class"){J.className=g(W,G.plainValues).trim();continue}if(Q==="checked"||Q==="disabled"||Q==="selected"||Q==="required"){let Y=g(W,G.plainValues);if(Y==="false")continue;Y==="true"||Y===""?J[Q]=!0:J[Q]=Y;continue}J[Q]=g(W,G.plainValues)}return J}function c0(q,G){let J=[];for(let O of Array.from(q))if(O.nodeType===Node.TEXT_NODE){let Q=O.textContent||"",W=!1;for(let[Z,z]of G.arrays)if(Q.includes(Z)){J.push(...z.filter((U)=>!N(U))),W=!0;break}if(W)continue;let Y=[];for(let[Z,z]of G.vnodes)Q.includes(Z)&&z&&typeof z=="object"&&"type"in z&&Y.push(z);if(Y.length>0){J.push(...Y);continue}if(Q.trim()){let Z=g(Q,G.plainValues);Z.trim()&&J.push(Z)}}else if(O.nodeType===Node.ELEMENT_NODE){let Q=D0(O,G);Q&&J.push(Q)}return J}function g(q,G){let J=q;for(let[O,Q]of G)J=J.replace(O,String(Q));return J}function s(q,G,J){for(let O in G)O in J||u0(q,O,G[O]);for(let[O,Q]of Object.entries(J))G[O]!==Q&&m0(q,O,Q,G[O])}function m0(q,G,J,O){if(G==="children"||G==="key")return;if(z0(G)){l0(q,G,J,O);return}if(G==="ref"&&C(J)){J(q);return}if(G==="className"||G==="class"){i0(q,J);return}if(G==="style"){p0(q,J);return}let Q=J;if(G==="dangerouslySetInnerHTML"&&Q?.__html){q.innerHTML=Q?.__html;return}if(H0.has(G)){s0(q,G,J);return}a0(q,G,J)}function u0(q,G,J){if(z0(G)&&C(J)){let O=I0(G);q.removeEventListener(O,J);return}if(G==="ref"&&C(J)){J(null);return}if(G==="className"||G==="class"){q.className="",q.removeAttribute("class");return}if(G==="style"){q.removeAttribute("style");return}if(H0.has(G)){q.removeAttribute(G.toLowerCase());return}q.removeAttribute(G)}function l0(q,G,J,O){if(!C(J))return;let Q=I0(G);O&&C(O)&&q.removeEventListener(Q,O),q.addEventListener(Q,J)}function i0(q,G){if(G==null||G===!1){q.className="",q.removeAttribute("class");return}let J=String(G).trim();J?q.className=J:(q.className="",q.removeAttribute("class"))}function p0(q,G){if(G==null){q.removeAttribute("style");return}if(typeof G=="string"){q.setAttribute("style",G);return}if(typeof G=="object")for(let[J,O]of Object.entries(G))O==null?q.style[J]="":q.style[J]=O}function s0(q,G,J){let O=G.toLowerCase();if(J===!1||J===null||J===void 0){q.removeAttribute(O);return}q.setAttribute(O,"")}function a0(q,G,J){if(J==null||J===!1){q.removeAttribute(G);return}q.setAttribute(G,String(J))}function T(q){try{if(A(q))return document.createTextNode(String(q));if(!y0(q))throw Error("Invalid VNode structure");return q.type==="fragment"?n0(q):r0(q)}catch(G){return U0(G,typeof q=="object"?q:void 0,"createDOMElement"),v0(G)}}function n0(q){let G=document.createDocumentFragment();for(let J of q.children){if(N(J))continue;let O=A(J)?document.createTextNode(String(J)):T(J);G.appendChild(O)}return G}function r0(q){let G=document.createElement(q.type);s(G,{},q.props);for(let J of q.children){if(N(J))continue;let O=A(J)?document.createTextNode(String(J)):T(J);G.appendChild(O)}return G}function o0(q,G,J,O){if(N(J)){if(!N(G)){let W=q.childNodes[O];W&&q.removeChild(W)}return}let Q=N(G)?null:G;d(q,Q,J,O)}function R0(q,G,J){let O=Math.max(G.length,J.length);for(let Q of Array.from({length:O},(W,Y)=>Y))o0(q,G[Q],J[Q],Q);for(;q.childNodes.length>J.filter((Q)=>!N(Q)).length;){let Q=q.lastChild;Q&&q.removeChild(Q)}}function _0(q,G,J){let O=new Map,Q=[];for(let Z of Array.from(q.children))Q.push(Z);let W=0;for(let Z of G){if(N(Z)||A(Z))continue;let z=Z,U=Q[W];if(!U)break;if(z.props.key!=null){let _=z.props.key;O.set(_,{vnode:z,element:U})}W++}let Y=[];for(let Z of J){if(N(Z))continue;if(A(Z)){let _=document.createTextNode(String(Z));Y.push(_);continue}let z=Z,U=z.props.key;if(U!=null&&O.has(U)){let{vnode:_,element:H}=O.get(U);s(H,_.props,z.props);let S=_.children||[],i=z.children||[];i.some((h)=>h&&typeof h=="object"&&("props"in h)&&h.props.key!=null)?_0(H,S,i):R0(H,S,i),Y.push(H),O.delete(U)}else{let _=T(z);Y.push(_)}}for(;q.firstChild;)q.removeChild(q.firstChild);for(let Z of Y)q.appendChild(Z)}function e0(q,G,J){J.some((O)=>O&&typeof O=="object"&&("props"in O)&&O.props.key!=null)?_0(q,G,J):R0(q,G,J)}function t0(q,G){let J=T(G);q.appendChild(J)}function q1(q,G){G&&G.parentNode===q&&q.removeChild(G)}function G1(q,G,J,O,Q){let W=String(G),Y=String(J);if(W!==Y)if(Q?.nodeType===Node.TEXT_NODE)Q.textContent=Y;else{let Z=document.createTextNode(Y);Q?q.replaceChild(Z,Q):q.appendChild(Z)}}function A0(q,G,J){let O=T(G);J?q.replaceChild(O,J):q.appendChild(O)}function J1(q,G){return q.type!==G.type||q.props.key!==G.props.key}function O1(q,G,J,O,Q){let W,Y=q.tagName.toLowerCase()===G.type&&q.tagName.toLowerCase()===J.type,Z=Q instanceof HTMLElement&&Q.tagName.toLowerCase()!==G.type;if(Y&&(!Q||Z))W=q;else if(Q instanceof HTMLElement)W=Q;else{A0(q,J,Q);return}s(W,G.props,J.props);let z=G.children||[],U=J.children||[];e0(W,z,U)}function Q1(q,G,J,O,Q){if(A(G)&&A(J)){G1(q,G,J,O,Q);return}if(A(G)&&!A(J)||!A(G)&&A(J)||J1(G,J)){A0(q,J,Q);return}!A(G)&&!A(J)&&O1(q,G,J,O,Q)}function d(q,G,J,O=0){try{let Q=f0(q,O);if(!G&&J){t0(q,J);return}if(G&&!J){q1(q,Q);return}G&&J&&Q1(q,G,J,O,Q)}catch(Q){U0(Q,typeof J=="object"&&J!==null?J:void 0,"patch")}}var x,Y0,E,H0;var a=L(()=>{x={devMode:!1,sanitizeHTML:!0,onError:void 0};Y0=class extends Error{constructor(q,G,J){super(q);this.vnode=G,this.context=J,this.name="VDOMError"}};E={EVENT:"__EVENT_",VNODE:"__VNODE_",ARRAY:"__ARRAY_",VALUE:"__VALUE_"};H0=new Set(["checked","selected","disabled","readOnly","required","autoFocus","multiple","hidden","autoplay","controls","loop","muted","open","reversed"])});async function n(q){let G={method:q.method||"GET",url:q.url,data:q.data,headers:{...k.headers,...q.headers},params:q.params,timeout:q.timeout??k.timeout};if(k.interceptors.request)try{G=await Promise.resolve(k.interceptors.request(G))}catch(Q){throw f("Request interceptor failed",0,Q)}let J=G.url.startsWith("http")?G.url:`${k.baseURL}${G.url}`;if(G.params&&Object.keys(G.params).length>0){let Q=new URLSearchParams(Object.entries(G.params).reduce((W,[Y,Z])=>(Z!=null&&(W[Y]=String(Z)),W),{})).toString();Q&&(J+=(J.includes("?")?"&":"?")+Q)}let O={method:G.method,headers:G.headers,signal:W1(G.timeout||30000)};if(G.data&&G.method!=="GET"&&G.method!=="HEAD"){let Q=G.headers?.["Content-Type"]||G.headers?.["content-type"];Q?.includes("application/json")?O.body=JSON.stringify(G.data):G.data instanceof FormData?(O.body=G.data,delete O.headers,O.headers={...G.headers},delete O.headers["Content-Type"]):G.data instanceof Blob||typeof G.data=="string"?O.body=G.data:(O.body=JSON.stringify(G.data),Q||(O.headers["Content-Type"]="application/json"))}try{let Q=await fetch(J,O),W,Y=Q.headers.get("Content-Type")||"";if(Y.includes("application/json")){let z=await Q.text();W=z?JSON.parse(z):null}else if(Y.includes("text/"))W=await Q.text();else if(Y.includes("application/octet-stream")||Y.includes("application/pdf"))W=await Q.blob();else{let z=await Q.text();try{W=z&&JSON.parse(z)}catch{W=z}}if(!Q.ok){let z=f(Q.statusText||"Request failed",Q.status,W);if(k.interceptors.error)return k.interceptors.error(z);throw z}let Z={data:W,status:Q.status,statusText:Q.statusText,headers:{}};return Q.headers.forEach((z,U)=>{Z.headers[U]=z}),k.interceptors.response?await Promise.resolve(k.interceptors.response(Z)):Z}catch(Q){let W;if(Q instanceof Error?Q.name==="AbortError"?W=f("Request timeout",0,null):Q instanceof TypeError&&Q.message.includes("fetch")?W=f("Network error",0,null):W=f(Q.message||"Unknown error",0,null):X1(Q)?W=Q:W=f("Unknown error",0,null),k.interceptors.error)return k.interceptors.error(W);throw W}}function W1(q){let G=new AbortController;return setTimeout(()=>G.abort(),q),G.signal}function f(q,G,J){return{message:q,status:G,data:J}}function X1(q){return typeof q=="object"&&q!==null&&"message"in q&&"status"in q}var k;var r=L(()=>{k={baseURL:"",timeout:30000,headers:{},interceptors:{request:null,response:null,error:null}}});function P(q,...G){let J="";for(let O=0;O<q.length;O++)J+=q[O],O<G.length&&(J+=G[O]);return J}function B(q,G){if(G&&typeof G=="object"&&"kind"in G){let Y=G.name;return G.addInitializer(function(){let Z=this;Z.constructor.__reactiveProps__||(Z.constructor.__reactiveProps__=[]),Z.constructor.__reactiveProps__.includes(Y)||Z.constructor.__reactiveProps__.push(Y)}),function(Z){let z=this,U=`_state_${Y}`;return z[U]=Z,Object.defineProperty(this,Y,{get(){return this[U]},set(_){let H=this,S=H[U];S!==_&&(H[U]=_,typeof H._invalidateAllComputed=="function"&&H._invalidateAllComputed(),typeof H._triggerWatchers=="function"&&H._triggerWatchers(Y,_,S),H._isMounted&&typeof H.update=="function"&&H.update())},enumerable:!0,configurable:!0}),Z}}let J=G,O=q.constructor;O.__reactiveProps__||(O.__reactiveProps__=[]),O.__reactiveProps__.includes(J)||O.__reactiveProps__.push(J);let Q=`_state_${J}`,W=`_state_init_${J}`;Object.defineProperty(q,J,{get(){let Y=this;if(Y[W])return Y[Q]},set(Y){let Z=this;if(!Z[W]){Z[Q]=Y,Z[W]=!0;return}let z=Z[Q];z!==Y&&(Z[Q]=Y,typeof Z._invalidateAllComputed=="function"&&Z._invalidateAllComputed(),typeof Z._triggerWatchers=="function"&&Z._triggerWatchers(J,Y,z),Z._isMounted&&typeof Z.update=="function"&&Z.update())},enumerable:!0,configurable:!0})}var Z1,v=(q,G,J,O)=>{for(var Q=void 0,W=q.length-1,Y;W>=0;W--)(Y=q[W])&&(Q=Y(G,J,Q)||Q);return Q&&Z1(G,J,Q),Q},F0,z1=class{constructor(){this.queue=new Set,this.isFlushScheduled=!1,this.isFlushing=!1}schedule(q){if(this.isFlushing){requestAnimationFrame(()=>this.schedule(q));return}this.queue.add(q),this.isFlushScheduled||(this.isFlushScheduled=!0,Promise.resolve().then(()=>{requestAnimationFrame(()=>this.flush())}))}flushSync(q){q()}flush(){if(this.queue.size===0){this.isFlushScheduled=!1;return}this.isFlushing=!0,this.isFlushScheduled=!1;let q=Array.from(this.queue);this.queue.clear();for(let G of q)try{G()}catch(J){console.error("Error during update:",J)}this.isFlushing=!1,this.queue.size>0&&this.schedule(()=>{})}clear(){this.queue.clear(),this.isFlushScheduled=!1}get size(){return this.queue.size}},o,R=class{constructor(q,G){this._isMounted=!1,this._isUnmounting=!1,this._element=null,this._vnode=null,this._styleId=null,this._isScheduledForUpdate=!1,this._updateBatch=new Set,this._refs=new Map,this._subscriptions=[],this._memoCache=new Map,this.props=q||{},this.state=G||{}}setState(q,G){let J={...this.state},O=typeof q=="function"?q(this.state):q;this.state={...this.state,...O},this.onStateChange?.(J,this.state),this.update(),G&&o.schedule(G)}setProps(q){let G={...this.props};this.props={...this.props,...q},this.onPropsChange?.(G,this.props),this.update()}batchUpdate(q){let G=this._isScheduledForUpdate;this._isScheduledForUpdate=!0;try{q()}finally{G||(this._isScheduledForUpdate=!1,this.update())}}update(q){!this._isMounted||this._isUnmounting||(q&&this._updateBatch.add(q),!this._isScheduledForUpdate&&(this._isScheduledForUpdate=!0,o.schedule(()=>{this._isScheduledForUpdate=!1,this._updateBatch.clear(),this._performUpdate()})))}forceUpdate(){!this._isMounted||this._isUnmounting||o.flushSync(()=>{this._performUpdate()})}async mount(q){if(this._isMounted){console.warn("Component is already mounted");return}try{await this.onBeforeMount?.(),this._vnode=this.render(),this._element=this._createElementFromVNode(this._vnode),this.styles&&(this._styleId=F0.inject(this.styles(),this.constructor.name),this._element?.setAttribute("data-scope",this.constructor.name)),q.appendChild(this._element),this._isMounted=!0,await this.onMount?.()}catch(G){this._handleError(G,{componentStack:this.constructor.name})}}unmount(){if(!(!this._isMounted||this._isUnmounting)){this._isUnmounting=!0;try{this.onBeforeUnmount?.(),this._isScheduledForUpdate=!1,this._updateBatch.clear(),this._styleId&&F0.remove(this._styleId),this._subscriptions.forEach((q)=>q()),this._subscriptions=[],this._element?.parentElement&&this._element.parentElement.removeChild(this._element),this._isMounted=!1,this._element=null,this._vnode=null,this.onUnmount?.(),this._refs.clear(),this._memoCache.clear()}catch(q){this._handleError(q,{componentStack:this.constructor.name})}finally{this._isUnmounting=!1}}}getRef(q){return this._refs.get(q)}createRef(q){return(G)=>{G?this._refs.set(q,G):this._refs.delete(q)}}memo(q,G,J){let O=this._memoCache.get(q);if(O&&this._areDepsEqual(O.args,J))return O.result;let Q=G();return this._memoCache.set(q,{args:J,result:Q}),Q}subscribe(q){this._subscriptions.push(q)}debounce(q,G){let J=null;return(...O)=>{J!==null&&clearTimeout(J),J=setTimeout(()=>{J=null,q.apply(this,O)},G)}}throttle(q,G){let J=0,O=null;return(...Q)=>{let W=Date.now(),Y=W-J;Y>=G?(J=W,q.apply(this,Q)):O||(O=setTimeout(()=>{J=Date.now(),O=null,q.apply(this,Q)},G-Y))}}get element(){return this._element}get isMounted(){return this._isMounted}get isUnmounting(){return this._isUnmounting}async _performUpdate(){if(!this._isMounted||!this._element||this._isUnmounting)return;let q={...this.props},G={...this.state};try{if(this.shouldUpdate&&!this.shouldUpdate(q,G))return;await this.onBeforeUpdate?.(q,G);let J=this.render(),O=this._element.parentElement;if(this._vnode&&O){let Q=Array.from(O.childNodes).indexOf(this._element),W=this._convertToVDomNode(this._vnode),Y=this._convertToVDomNode(J);d(O,W,Y,Q),this._element=O.childNodes[Q]}this._vnode=J,this.onUpdate?.(q,G)}catch(J){this._handleError(J,{componentStack:this.constructor.name})}}_convertToVDomNode(q){if(typeof q.type!="string")throw Error("Component VNodes cannot be converted to VDom nodes");let G={};for(let[O,Q]of Object.entries(q.props))O!=="children"&&(G[O]=Q);let J=q.children.map((O)=>O==null||typeof O=="boolean"?null:typeof O=="string"||typeof O=="number"?O:this._convertToVDomNode(O)).filter((O)=>O!==null);return{type:q.type,props:G,children:J}}_createElementFromVNode(q){if(typeof q.type!="string")throw Error("Component VNodes not supported in _createElementFromVNode");let G=document.createElement(q.type);for(let[J,O]of Object.entries(q.props))J!=="children"&&this._setElementProperty(G,J,O);for(let J of q.children)J==null||J===!1||(typeof J=="string"||typeof J=="number"?G.appendChild(document.createTextNode(String(J))):typeof J=="object"&&("type"in J)&&G.appendChild(this._createElementFromVNode(J)));return G}_setElementProperty(q,G,J){if(G.startsWith("on")&&typeof J=="function"){let O=G.substring(2).toLowerCase();q.addEventListener(O,J);return}if(G==="className"&&typeof J=="string"){q.className=J;return}if(G==="style"){typeof J=="string"?q.setAttribute("style",J):typeof J=="object"&&J!==null&&Object.assign(q.style,J);return}if(G==="ref"&&typeof J=="function"){J(q);return}if(G==="checked"||G==="disabled"||G==="selected"){(J==="true"||J===!0||J==="")&&q.setAttribute(G,"");return}J!=null&&J!==!1&&q.setAttribute(G,String(J))}_handleError(q,G){if(console.error(`Error in component ${this.constructor.name}:`,q),this.onError)this.onError(q,G);else throw q}_areDepsEqual(q,G){return q.length!==G.length?!1:q.every((J,O)=>J===G[O])}_invalidateAllComputed(){for(let q in this)q.startsWith("_computed_dirty_")&&(this[q]=!0)}_triggerWatchers(q,G,J){let O=this.constructor.__watchers__;if(O?.[q]){for(let Q of O[q])if(typeof this[Q]=="function")try{this[Q].call(this,G,J)}catch(W){console.error(`Watcher error in ${Q}:`,W)}}}},I1=class{constructor(){this.routes=[],this.currentRoute=null,this.mode="history",this.base="/",this.beforeEachHooks=[],this.afterEachHooks=[],this.currentComponent=null,this.routerOutlet=null,this.isNavigating=!1,this.scrollBehavior="auto",this.notFoundHandler=null,this._internalPath=null}init(q,G="history",J="/",O="auto"){this.routes=q,this.mode=G,this.base=J.endsWith("/")?J.slice(0,-1):J,this.scrollBehavior=O,this._initializeRouting(),this._handleRoute()}async push(q,G){this.isNavigating||(this._internalPath=q,this.mode==="history"?window.history.pushState(G||{},"",this._buildFullPath(q)):window.location.hash=q,await this._handleRoute())}async replace(q,G){return this._internalPath=q,this.mode==="history"?window.history.replaceState(G||{},"",this._buildFullPath(q)):window.location.hash=q,this._handleRoute()}back(){window.history.back()}forward(){window.history.forward()}go(q){window.history.go(q)}beforeEach(q){this.beforeEachHooks.push(q)}afterEach(q){this.afterEachHooks.push(q)}onNotFound(q){this.notFoundHandler=q}getCurrentRoute(){return this.currentRoute?{...this.currentRoute}:null}isActive(q,G=!1){return this.currentRoute?G?this.currentRoute.path===q:this.currentRoute.path.startsWith(q):!1}outlet(){return X("div",{"data-router-outlet":"true",style:"display: contents;"})}getRoute(q){return this.routes.find((G)=>G.name===q)}async pushNamed(q,G){let J=this.getRoute(q);if(!J){console.error(`Route with name "${q}" not found`);return}let O=J.path;if(G)for(let[Q,W]of Object.entries(G))O=O.replace(`:${Q}`,W);return this.push(O)}resolve(q){let G=this._matchRoute(q);if(!G)return null;let{route:J,params:O}=G;return{path:q,params:O,query:this._parseQuery(q),meta:J.meta||{},hash:q.includes("#")?q.split("#")[1]:"",name:J.name}}_initializeRouting(){window.addEventListener("popstate",()=>{this._internalPath=null,this._handleRoute()}),this.mode==="hash"&&window.addEventListener("hashchange",()=>{this._internalPath=null,this._handleRoute()}),document.addEventListener("click",(q)=>{let G=q.target.closest("a[href]");if(G&&this._shouldInterceptLink(G)){q.preventDefault();let J=G.getAttribute("href");if(J){let O=this.mode==="hash"&&J.startsWith("#")?J.substring(1):J.replace(this.base,"");this.push(O)}}})}_shouldInterceptLink(q){return!!(q.getAttribute("href")&&q.hostname===window.location.hostname&&q.target!=="_blank"&&!q.hasAttribute("download")&&q.rel!=="external")}async _handleRoute(){if(!this.isNavigating){this.isNavigating=!0;try{let q=this._getCurrentPath(),G=this._matchRoute(q);if(!G){this._handleNotFound(q);return}let{route:J,params:O}=G,Q=this._buildRouteObject(q,O,J),W=this.currentRoute||this._buildEmptyRoute();if(!await this._runNavigationGuards(J,Q,W))return;this.currentRoute=Q,await this._renderComponent(J),this._handleScrollBehavior(Q,W),J.meta?.title&&typeof J.meta.title=="string"&&(document.title=J.meta.title),this.afterEachHooks.forEach((Y)=>Y(Q,W))}catch(q){console.error("Router error:",q)}finally{this.isNavigating=!1}}}_handleNotFound(q){console.warn(`No route matched for path: ${q}`),this.currentRoute={path:q,params:{},query:this._parseQuery(),meta:{},hash:window.location.hash.substring(1)},this.notFoundHandler&&this.notFoundHandler()}_buildRouteObject(q,G,J){return{path:q,params:G,query:this._parseQuery(),meta:J.meta||{},hash:window.location.hash.substring(1),name:J.name}}_buildEmptyRoute(){return{path:"",params:{},query:{},meta:{},hash:""}}async _runNavigationGuards(q,G,J){if(q.beforeEnter&&!await this._runGuard(q.beforeEnter,G,J))return!1;for(let O of this.beforeEachHooks)if(!await this._runGuard(O,G,J))return!1;return!0}_runGuard(q,G,J){return new Promise((O)=>{q(G,J,(Q)=>{Q===!1?O(!1):typeof Q=="string"?(this.push(Q),O(!1)):O(!0)})})}async _renderComponent(q){if(!this.routerOutlet&&(this.routerOutlet=document.querySelector('[data-router-outlet="true"]'),!this.routerOutlet)){console.warn("Router outlet not found");return}this.currentComponent&&(this.currentComponent.unmount(),this.currentComponent=null),this.routerOutlet.innerHTML="";try{let G=await this._resolveComponent(q.component);if(!G||typeof G!="function")throw Error("Component is null or not a constructor");let J=G;this.currentComponent=new J,this.currentComponent&&await this.currentComponent.mount(this.routerOutlet)}catch(G){throw this._renderError(q.path,G),G}}async _resolveComponent(q){if(typeof q=="function"){let G="prototype"in q&&q.prototype?q.prototype:null;if(G&&typeof G=="object"&&"constructor"in G&&G.constructor===q)return q;try{let J=await q();return J.HomePage||J.TodoPage||J.default||Object.values(J).find((O)=>{if(typeof O!="function")return!1;let Q=O.prototype;return Q!==null&&typeof Q=="object"&&Q!==void 0&&"constructor"in Q})||null}catch(J){return console.error("Failed to load lazy component:",J),null}}return null}_renderError(q,G){if(this.routerOutlet){let J=G instanceof Error?G.message:String(G);this.routerOutlet.innerHTML=`
                    <div style="padding: 2rem; background: #fee; border: 2px solid #c00;
                                border-radius: 8px; margin: 2rem;">
                        <h2 style="color: #c00; margin-top: 0;">⚠️ Failed to Load Component</h2>
                        <p><strong>Route:</strong> ${q}</p>
                        <p><strong>Error:</strong> ${J}</p>
                    </div>
                `}}_handleScrollBehavior(q,G){if(q.hash){let J=document.getElementById(q.hash);if(J){J.scrollIntoView({behavior:this.scrollBehavior});return}}q.path!==G.path&&window.scrollTo({top:0,behavior:this.scrollBehavior})}_getCurrentPath(){if(this._internalPath!==null)return this._internalPath;if(this.mode==="hash")return window.location.hash.substring(1).split("?")[0]||"/";let q=window.location.pathname;return(!q||q==="blank"||q==="about:blank")&&(q="/"),this.base&&q.startsWith(this.base)&&(q=q.substring(this.base.length)),q||"/"}_buildFullPath(q){if(q.startsWith("http"))return q;let G=q.startsWith("/")?q:"/"+q;return this.base+G}_matchRoute(q){let G=q.split("?")[0].split("#")[0];for(let J of this.routes){let O=this._matchPath(J.path,G);if(O!==null)return{route:J,params:O}}return null}_matchPath(q,G){if(q==="*")return{};if(q===G)return{};let J=[],O=q.replace(/\*/g,".*").replace(/:([^/]+)/g,(Y,Z)=>(J.push(Z),"([^/]+)")),Q=new RegExp(`^${O}$`),W=G.match(Q);return W?J.reduce((Y,Z,z)=>(Y[Z]=decodeURIComponent(W[z+1]),Y),{}):null}_parseQuery(q){let G=q?q.includes("?")?q.split("?")[1].split("#")[0]:"":window.location.search.substring(1);return G?G.split("&").reduce((J,O)=>{let[Q,W]=O.split("=").map(decodeURIComponent);return Q&&(J[Q]=W||""),J},{}):{}}},c,w;var F=L(()=>{a();a();r();r();Z1=Object.defineProperty,F0=class{static{this.styles=new Map}static{this.scopeCounter=0}static inject(q,G){let J=G||`style-${this.scopeCounter++}`;if(this.styles.has(J))return J;let O=document.createElement("style");O.setAttribute("data-component",J);let Q=this.scopeStyles(q,J);return O.textContent=Q,document.head.appendChild(O),this.styles.set(J,O),J}static remove(q){let G=this.styles.get(q);G&&G.parentElement&&(G.parentElement.removeChild(G),this.styles.delete(q))}static scopeStyles(q,G){let J=q.split(`
`),O=[],Q=0;for(let W of J){if(W=W.trim(),W.startsWith("@media")){O.push(W);continue}if(Q+=(W.match(/{/g)||[]).length,Q-=(W.match(/}/g)||[]).length,W.includes("{")&&!W.startsWith("@")&&!W.startsWith("}")){let Y=W.substring(0,W.indexOf("{")).trim(),Z=W.substring(W.indexOf("{"));if(Y===":root"||Y==="*"||W.startsWith("@"))O.push(W);else{let z=`[data-scope="${G}"] ${Y}`;O.push(`${z} ${Z}`)}}else O.push(W)}return O.join(`
`)}static clear(){for(let[,q]of this.styles)q.parentElement&&q.parentElement.removeChild(q);this.styles.clear()}};o=new z1,c=new I1;w=class extends R{constructor(q){super(q);this.fields=[],this.formData={},this.isSubmitting=!1,this.submitError="",this.submitSuccess=!1,this.fields=this.props.fields.map((G)=>({...G,error:void 0,touched:!1}));for(let G of this.fields)this.formData[G.name]=G.value||""}onMount(){}handleChange(q,G){this.formData[q]=G;let J=this.fields.find((O)=>O.name===q);J&&this.props.autoValidate&&(J.error=this.validateField(J,G),J.touched=!0),this.update()}handleBlur(q){let G=this.fields.find((J)=>J.name===q);G&&(G.touched=!0,G.error=this.validateField(G,this.formData[q]),this.update())}validateField(q,G){let J=q.validation;if(!J)return;if(J.required&&!G)return J.message||`${q.label||q.name} is required`;if(!G)return;let O=String(G);if(J.minLength&&O.length<J.minLength)return J.message||`Minimum ${J.minLength} characters required`;if(J.maxLength&&O.length>J.maxLength)return J.message||`Maximum ${J.maxLength} characters allowed`;if(J.min!==void 0&&Number(G)<J.min)return J.message||`Minimum value is ${J.min}`;if(J.max!==void 0&&Number(G)>J.max)return J.message||`Maximum value is ${J.max}`;if(J.pattern&&!J.pattern.test(O))return J.message||"Invalid format";if(J.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(O))return J.message||"Invalid email address";if(J.url&&!/^https?:\/\/.+/.test(O))return J.message||"Invalid URL";if(J.custom){let Q=J.custom(G);if(Q!==!0)return typeof Q=="string"?Q:"Validation failed"}}validateForm(){let q=!0,G={};for(let J of this.fields){let O=this.validateField(J,this.formData[J.name]);J.error=O,J.touched=!0,O&&(q=!1,G[J.name]=O)}return this.update(),!q&&this.props.onValidationError&&this.props.onValidationError(G),q}async handleSubmit(q){if(q.preventDefault(),!this.validateForm()){let G=this.fields.find((J)=>J.error);G&&document.querySelector(`[name="${G.name}"]`)?.focus();return}this.isSubmitting=!0,this.submitError="",this.submitSuccess=!1,this.update();try{if(this.props.onSubmit)await this.props.onSubmit(this.formData,q);else if(this.props.endpoint){let G=await n({method:this.props.method||"POST",url:this.props.endpoint,data:this.formData});this.submitSuccess=!0,this.props.onSuccess&&this.props.onSuccess(G.data)}}catch(G){let J=G instanceof Error?G.message:"Submission failed";this.submitError=J,this.props.onError&&this.props.onError(G)}finally{this.isSubmitting=!1,this.update()}}renderField(q){let G=this.formData[q.name]||"";switch(q.type){case"textarea":return D`
                        <div class="form-field ${q.className||""}">
                            ${q.label?D`<label for=${q.name}>${q.label}</label>`:""}
                            <textarea
                                id=${q.name}
                                name=${q.name}
                                placeholder=${q.placeholder||""}
                                value=${String(G)}
                                disabled=${String(q.disabled||this.isSubmitting)}
                                oninput=${(J)=>{let O=J.target;this.handleChange(q.name,O.value)}}
                                onblur=${()=>this.handleBlur(q.name)}
                            ></textarea>
                        </div>
                    `;case"select":{let J=(q.options||[]).map((O)=>D`
                        <option value=${String(O.value)}>${O.label}</option>
                    `);return D`
                        <div class="form-field ${q.className||""}">
                            ${q.label?D`<label for=${q.name}>${q.label}</label>`:""}
                            <select
                                id=${q.name}
                                name=${q.name}
                                value=${String(G)}
                                disabled=${String(q.disabled||this.isSubmitting)}
                                onchange=${(O)=>{let Q=O.target;this.handleChange(q.name,Q.value)}}
                                onblur=${()=>this.handleBlur(q.name)}
                            >
                                <option value="">Select...</option>
                                ${J}
                            </select>
                        </div>
                    `}case"checkbox":return D`
                        <div class="form-field form-field-checkbox ${q.className||""}">
                            <label>
                                <input
                                    type="checkbox"
                                    id=${q.name}
                                    name=${q.name}
                                    checked=${String(G)}
                                    disabled=${String(q.disabled||this.isSubmitting)}
                                    onchange=${(J)=>{let O=J.target;this.handleChange(q.name,O.checked)}}
                                />
                                ${q.label||""}
                            </label>
                        </div>
                    `;default:return D`
                        <div class="form-field ${q.className||""}">
                            ${q.label?D`<label for="${q.name}">${q.label}</label>`:""}
                            <input
                                type="${q.type||"text"}"
                                id="${q.name}"
                                name="${q.name}"
                                placeholder="${q.placeholder||""}"
                                value="${String(G)}"
                                oninput=${(J)=>{let O=J.target;this.handleChange(q.name,O.value)}}
                                onblur=${()=>this.handleBlur(q.name)}
                            />
                        </div>
                    `}}render(){let q=this.props.submitButton||{},G=this.fields.map((J)=>this.renderField(J));return D`
                <form
                    class="smart-form ${this.props.className||""}"
                    onsubmit=${(J)=>this.handleSubmit(J)}
                >
                    ${this.submitError?D`
                        <div class="alert alert-error">${this.submitError}</div>
                    `:""}

                    ${this.submitSuccess?D`
                        <div class="alert alert-success">Submitted successfully!</div>
                    `:""}

                    ${G}

                    <button
                        type="submit"
                        class="submit-button ${q.className||""}"
                        disabled=${String(this.isSubmitting)}
                    >
                        ${this.isSubmitting?q.loadingLabel||"Submitting...":q.label||"Submit"}
                    </button>
                </form>
            `}styles(){return P`
                .smart-form {
                    max-width: 100%;
                }
                .form-field {
                    margin-bottom: 1rem;
                }
                .form-field label {
                    display: block;
                    margin-bottom: 0.5rem;
                    font-weight: 500;
                }
                .form-field input,
                .form-field textarea,
                .form-field select {
                    width: 100%;
                    padding: 0.5rem;
                    border: 1px solid #d1d5db;
                    border-radius: 0.375rem;
                    font-size: 1rem;
                }
                .form-field input:focus,
                .form-field textarea:focus,
                .form-field select:focus {
                    outline: none;
                    border-color: #3b82f6;
                    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
                }
                .form-field-checkbox label {
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                }
                .form-field-checkbox input[type="checkbox"] {
                    width: auto;
                }
                .submit-button {
                    width: 100%;
                    padding: 0.75rem 1rem;
                    background: #3b82f6;
                    color: white;
                    border: none;
                    border-radius: 0.375rem;
                    font-size: 1rem;
                    font-weight: 500;
                    cursor: pointer;
                    transition: background 0.2s;
                }
                .submit-button:hover:not(:disabled) {
                    background: #2563eb;
                }
                .submit-button:disabled {
                    opacity: 0.6;
                    cursor: not-allowed;
                }
                .alert {
                    padding: 0.75rem;
                    border-radius: 0.375rem;
                    margin-bottom: 1rem;
                }
                .alert-error {
                    background: #fee2e2;
                    color: #dc2626;
                }
                .alert-success {
                    background: #d1fae5;
                    color: #065f46;
                }
            `}};v([B],w.prototype,"fields"),v([B],w.prototype,"formData"),v([B],w.prototype,"isSubmitting"),v([B],w.prototype,"submitError"),v([B],w.prototype,"submitSuccess");B0({devMode:!1,sanitizeHTML:!0})});function B1(){return localStorage.getItem("app-language")||"en"}function I(q,G){let J=B1(),O=e[q]?.[J]||e[q]?.en||q;if(G)Object.keys(G).forEach((Q)=>{let W=e[G[Q]]?I(G[Q]):G[Q];O=O.replace(`{${Q}}`,W)});return O}function N0(q){return window.addEventListener("languagechange",q),()=>window.removeEventListener("languagechange",q)}var e;var V=L(()=>{e={loading:{en:"Loading...",ar:"جاري التحميل...",es:"Cargando...",fr:"Chargement..."},"global.apply_changes_reloading":{en:"Applying changes...",ar:"جاري تطبيق التغييرات...",es:"Aplicando cambios...",fr:"Application des modifications..."},"nav.logo.text":{en:"\uD83D\uDCDD Todo App",ar:"\uD83D\uDCDD تطبيق المهام",es:"\uD83D\uDCDD App de Tareas",fr:"\uD83D\uDCDD App de Tâches"},"nav.home":{en:"Home",ar:"الرئيسية",es:"Inicio",fr:"Accueil"},"nav.todos":{en:"Todos",ar:"المهام",es:"Tareas",fr:"Tâches"},"theme.dark":{en:"Dark",ar:"داكن",es:"Oscuro",fr:"Sombre"},"theme.light":{en:"Light",ar:"فاتح",es:"Claro",fr:"Clair"},"theme.rose":{en:"Rose",ar:"وردي",es:"Rosa",fr:"Rose"},"theme.hacker":{en:"Hacker",ar:"هاكر",es:"Hacker",fr:"Hacker"},"todo.home.welc":{en:"Welcome to Todo App",ar:"أهلًا بِـكَ في تطبيق المهام",es:"Bienvenido a la App de Tareas",fr:"Bienvenue dans l'App de Tâches"},"todo.home.desc":{en:"Organize your tasks efficiently with our modern, responsive todo application.",ar:"نظم مهامك وعزز إنتاجيتك بتطبيقنا الحديث والمتجاوب",es:"Organiza tus tareas eficientemente con nuestra aplicación moderna y responsive.",fr:"Organisez vos tâches efficacement avec notre application moderne et responsive."},"todo.home.mainbutton":{en:"Get Started",ar:"ابدأ الآن",es:"Comenzar",fr:"Commencer"},"todo.placeholder":{en:"What needs to be done?",ar:"ما الذي يجب القيام به؟",es:"¿Qué hay que hacer?",fr:"Que faut-il faire?"},"todo.add":{en:"Add Task",ar:"إضافة مهمة",es:"Agregar Tarea",fr:"Ajouter Tâche"},"todo.adding":{en:"⏳ Adding...",ar:"⏳ جاري الإضافة...",es:"⏳ Agregando...",fr:"⏳ Ajout..."},"todo.delete":{en:"Delete task",ar:"حذف المهمة",es:"Eliminar tarea",fr:"Supprimer la tâche"},"todo.msg.required":{en:"Task title is required",ar:"اسم المهمة مطلوب",es:"El título de la tarea es obligatorio",fr:"Le titre de la tâche est requis"},"todo.filter.all":{en:"All ({count})",ar:"الكل ({count})",es:"Todos ({count})",fr:"Tous ({count})"},"todo.filter.active":{en:"Active ({count})",ar:"نشطة ({count})",es:"Activas ({count})",fr:"Actives ({count})"},"todo.filter.completed":{en:"Completed ({count})",ar:"مكتملة ({count})",es:"Completadas ({count})",fr:"Terminées ({count})"},"todo.empty.none":{en:"No todos yet",ar:"لا توجد مهام بعد",es:"Sin tareas aún",fr:"Aucune tâche pour le moment"},"todo.empty.none_filtered":{en:"No {filter} todos",ar:"لا توجد مهام {filter}",es:"Sin tareas {filter}",fr:"Aucune tâche {filter}"},"todo.empty.cta":{en:"Add your first task above to get started!",ar:"أضف مهمتك الأولى أعلاه للبدء!",es:"¡Agrega tu primera tarea arriba para comenzar!",fr:"Ajoutez votre première tâche ci-dessus pour commencer!"},"todo.empty.switch":{en:'Switch to "All" to see all todos',ar:'انتقل إلى "الكل" لرؤية جميع المهام',es:'Cambia a "Todos" para ver todas las tareas',fr:'Passez à "Tous" pour voir toutes les tâches'},"filter.all":{en:"all",ar:"الكل",es:"todas",fr:"toutes"},"filter.active":{en:"active",ar:"نشطة",es:"activas",fr:"actives"},"filter.completed":{en:"completed",ar:"مكتملة",es:"completadas",fr:"terminées"},"toast.success.created":{en:"Task created successfully",ar:"تم إنشاء المهمة بنجاح",es:"Tarea creada con éxito",fr:"Tâche créée avec succès"},"toast.success.deleted":{en:"Task deleted successfully",ar:"تم حذف المهمة بنجاح",es:"Tarea eliminada con éxito",fr:"Tâche supprimée avec succès"},"toast.info.completed":{en:"Task marked as completed",ar:"تم وضع علامة على المهمة كمكتملة",es:"Tarea marcada como completada",fr:"Tâche marquée comme terminée"},"toast.info.uncompleted":{en:"Task marked as active",ar:"تم وضع علامة على المهمة كنشطة",es:"Tarea marcada como activa",fr:"Tâche marquée comme active"},"toast.error.create":{en:"Failed to create task",ar:"فشل في إنشاء المهمة",es:"Error al crear la tarea",fr:"Échec de la création de la tâche"},"toast.error.delete":{en:"Failed to delete task",ar:"فشل في حذف المهمة",es:"Error al eliminar la tarea",fr:"Échec de la suppression de la tâche"},"toast.error.toggle":{en:"Failed to update task",ar:"فشل في تحديث المهمة",es:"Error al actualizar la tarea",fr:"Échec de la mise à jour de la tâche"},"toast.error.load":{en:"Failed to load tasks",ar:"فشل في تحميل المهام",es:"Error al cargar las tareas",fr:"Échec du chargement des tâches"},"popup.ok":{en:"OK",ar:"موافق",es:"OK",fr:"OK"},"popup.cancel":{en:"Cancel",ar:"إلغاء",es:"Cancelar",fr:"Annuler"},"popup.confirm":{en:"Confirm",ar:"تأكيد",es:"Confirmar",fr:"Confirmer"},"popup.delete.title":{en:"Delete Task",ar:"حذف المهمة",es:"Eliminar Tarea",fr:"Supprimer la Tâche"},"popup.delete.message":{en:"Are you sure you want to delete this task? This action cannot be undone.",ar:"هل أنت متأكد من حذف هذه المهمة؟ لا يمكن التراجع عن هذا الإجراء.",es:"¿Estás seguro de que deseas eliminar esta tarea? Esta acción no se puede deshacer.",fr:"Êtes-vous sûr de vouloir supprimer cette tâche? Cette action est irréversible."},"popup.delete.confirm":{en:"Delete",ar:"حذف",es:"Eliminar",fr:"Supprimer"},"popup.prompt.placeholder":{en:"Enter value...",ar:"أدخل القيمة...",es:"Ingresa el valor...",fr:"Entrez la valeur..."},"layout.footer.text":{en:"Built with ❤️ by",ar:"صُـنِـعَ بِـكُلِ ❤️ بِواسِطَـة",es:"Hecho con ❤️ por",fr:"Créé avec ❤️ par"},"layout.footer.link":{en:"Maysara",ar:"مَيْسَـرة",es:"Maysara",fr:"Maysara"}}});function m(q){c.push(q),window.dispatchEvent(new CustomEvent("navigation",{detail:{path:q}}))}var t=L(()=>{F()});var x0={};X0(x0,{HomePage:()=>S0});var S0;var k0=L(()=>{F();V();t();S0=class S0 extends R{async onMount(){let q=this.element?.querySelector('[data-action="get-started"]');if(q)q.addEventListener("click",(G)=>this.handleGetStarted(G))}handleGetStarted(q){q.preventDefault(),m("/todos")}render(){return X("div",{className:"__page__"},X("div",{className:"__header__"},X("h1",{className:"__title__","data-translate":"todo.home.welc"},I("todo.home.welc")),X("p",{className:"__desc__","data-translate":"todo.home.desc"},I("todo.home.desc"))),X("button",{className:"btn btn--primary btn--large","data-translate":"todo.home.mainbutton","data-action":"get-started",onclick:(q)=>this.handleGetStarted(q)},I("todo.home.mainbutton"),X("i",{className:"fas fa-rocket",style:"margin-right: 8px;"})))}styles(){return P` `}}});function U1(q){if(j)return j;let G=q||document.createElement("div");if(!q)document.body.appendChild(G);return j=new u,j.mount(G),j}function y(){if(!j)j=U1();return j}var u,j=null,M;var q0=L(()=>{F();V();u=class u extends R{constructor(){super(...arguments);this.messages=[]}nextId=0;show(q,G="info",J=2000,O){let Q=this.nextId++;this.messages=[...this.messages,{id:Q,message:q,type:G,translateKey:O}],setTimeout(()=>{this.messages=this.messages.filter((W)=>W.id!==Q)},J)}success(q,G,J){this.show(q,"success",G,J)}error(q,G,J){this.show(q,"error",G,J)}info(q,G,J){this.show(q,"info",G,J)}warning(q,G,J){this.show(q,"warning",G,J)}render(){if(this.messages.length===0)return D``;return X("div",{className:"__toast_container__"},...this.messages.map((q)=>this.renderToast(q)))}renderToast(q){let G={success:"fas fa-check-circle",error:"fas fa-exclamation-circle",info:"fas fa-info-circle",warning:"fas fa-exclamation-triangle"},J=q.translateKey?I(q.translateKey):q.message;return X("div",{key:String(q.id),className:`__toast__ __toast__--${q.type}`,"data-translate":q.translateKey||void 0},X("i",{className:`${G[q.type]} __toast_icon__`}),X("span",{className:"__toast_message__"},J))}};$([B],u.prototype,"messages",void 0);M={show:(q,G="info",J,O)=>{y().show(q,G,J,O)},success:(q,G,J)=>{y().success(q,G,J)},error:(q,G,J)=>{y().error(q,G,J)},info:(q,G,J)=>{y().info(q,G,J)},warning:(q,G,J)=>{y().warning(q,G,J)}}});function $1(q){if(K)return K;let G=q||document.createElement("div");if(!q)document.body.appendChild(G);return K=new l,K.mount(G),K}function b(){if(!K)K=$1();return K}var l,K=null,M0;var G0=L(()=>{F();V();l=class l extends R{constructor(){super(...arguments);this.popups=[]}nextId=0;handleEscapeKey;async onMount(){this.setupKeyboardListener(),window.addEventListener("languagechange",()=>{this.update()})}onUnmount(){if(this.handleEscapeKey)document.removeEventListener("keydown",this.handleEscapeKey)}render(){if(this.popups.length===0)return X("div",{className:"__popup_container__"});return X("div",{className:"__popup_container__"},...this.popups.map((q)=>this.renderPopup(q)))}renderPopup(q){let G=`__popup__--${q.width||"medium"}`,J=q.variant?`__popup__--${q.variant}`:"";return X("div",{key:String(q.id),className:"__popup_overlay__",onClick:(O)=>{if(O.target.classList.contains("__popup_overlay__")&&q.closeOnOverlay!==!1)this.closePopup(q.id,!1)}},X("div",{className:`__popup__ ${G} ${J}`,role:"dialog","aria-modal":"true","aria-labelledby":`popup-title-${q.id}`},q.showCloseButton!==!1?X("button",{className:"__popup_close__",onClick:()=>this.closePopup(q.id,!1),"aria-label":"Close"},X("i",{className:"fas fa-times"})):null,X("div",{className:"__popup_header__"},q.icon?X("div",{className:"__popup_icon__"},X("i",{className:q.icon})):null,X("h2",{id:`popup-title-${q.id}`,className:"__popup_title__","data-translate":q.titleTranslateKey},q.titleTranslateKey?I(q.titleTranslateKey):q.title)),X("div",{className:"__popup_body__"},q.message?X("p",{className:"__popup_message__","data-translate":q.messageTranslateKey},q.messageTranslateKey?I(q.messageTranslateKey):q.message):null,q.type==="prompt"?X("input",{type:"text",className:"__popup_input__",value:q.inputValue||"",placeholder:I("popup.prompt.placeholder"),"data-translate":"popup.prompt.placeholder",onInput:(O)=>{q.inputValue=O.target.value}}):null,q.customContent||null),q.buttons&&q.buttons.length>0?X("div",{className:"__popup_footer__"},...q.buttons.map((O)=>X("button",{className:`btn btn--${O.variant||"secondary"}`,"data-translate":O.translateKey,onClick:async()=>{await O.onClick()}},O.translateKey?I(O.translateKey):O.label))):null))}show(q){return new Promise((G)=>{let J=this.nextId++,O={...q,id:J,resolve:G,type:q.type||"custom",closeOnOverlay:q.closeOnOverlay!==!1,closeOnEscape:q.closeOnEscape!==!1,showCloseButton:q.showCloseButton!==!1};this.popups=[...this.popups,O],this.applyBodyLock()})}confirm(q){return new Promise((G)=>{let J=this.nextId++,O={id:J,title:q.title,titleTranslateKey:q.titleTranslateKey,message:q.message,messageTranslateKey:q.messageTranslateKey,type:"confirm",variant:q.variant||"default",icon:q.icon,resolve:G,onConfirm:q.onConfirm,onCancel:q.onCancel,buttons:[{label:q.cancelLabel||"Cancel",translateKey:q.cancelTranslateKey||"popup.cancel",variant:"secondary",onClick:async()=>{if(q.onCancel)await q.onCancel();this.closePopup(J,!1)}},{label:q.confirmLabel||"Confirm",translateKey:q.confirmTranslateKey||"popup.confirm",variant:q.variant==="danger"?"danger":"primary",onClick:async()=>{if(q.onConfirm)await q.onConfirm();this.closePopup(J,!0)}}]};this.popups=[...this.popups,O],this.applyBodyLock()})}alert(q){return new Promise((G)=>{let J=this.nextId++,O={id:J,title:q.title,titleTranslateKey:q.titleTranslateKey,message:q.message,messageTranslateKey:q.messageTranslateKey,type:"alert",variant:q.variant||"info",icon:q.icon,resolve:G,onConfirm:q.onConfirm,buttons:[{label:q.okLabel||"OK",translateKey:q.okTranslateKey||"popup.ok",variant:"primary",onClick:async()=>{if(q.onConfirm)await q.onConfirm();this.closePopup(J,!0)}}]};this.popups=[...this.popups,O],this.applyBodyLock()})}prompt(q){return new Promise((G)=>{let J=this.nextId++,O={id:J,title:q.title,titleTranslateKey:q.titleTranslateKey,message:q.message,messageTranslateKey:q.messageTranslateKey,type:"prompt",variant:"default",icon:q.icon,inputValue:q.defaultValue||"",resolve:G,onConfirm:q.onConfirm,onCancel:q.onCancel,buttons:[{label:q.cancelLabel||"Cancel",translateKey:q.cancelTranslateKey||"popup.cancel",variant:"secondary",onClick:async()=>{if(q.onCancel)await q.onCancel();this.closePopup(J,null)}},{label:q.confirmLabel||"OK",translateKey:q.confirmTranslateKey||"popup.ok",variant:"primary",onClick:async()=>{let Q=O.inputValue||"";if(q.onConfirm)await q.onConfirm(Q);this.closePopup(J,Q)}}]};this.popups=[...this.popups,O],this.applyBodyLock()})}closePopup(q,G){let J=this.popups.find((O)=>O.id===q);if(J?.resolve)J.resolve(G);if(this.popups=this.popups.filter((O)=>O.id!==q),this.popups.length===0)this.removeBodyLock()}closeAll(){this.popups.forEach((q)=>{if(q.resolve)q.resolve(!1)}),this.popups=[],this.removeBodyLock()}applyBodyLock(){document.body.style.overflow="hidden"}removeBodyLock(){document.body.style.overflow=""}setupKeyboardListener(){this.handleEscapeKey=(q)=>{if(q.key==="Escape"&&this.popups.length>0){let G=this.popups[this.popups.length-1];if(G.closeOnEscape!==!1)this.closePopup(G.id,!1)}},document.addEventListener("keydown",this.handleEscapeKey)}};$([B],l.prototype,"popups",void 0);M0={show:(q)=>b().show(q),confirm:(q)=>b().confirm(q),alert:(q)=>b().alert(q),prompt:(q)=>b().prompt(q),closeAll:()=>b().closeAll()}});var V0={};X0(V0,{TodoPage:()=>L0});var L0;var w0=L(()=>{F();V();q0();G0();L0=class L0 extends R{constructor(q){super(q);this.todos=[];this.loading=!1;this.filter="all";this.formInstance=null;this.formInstance=new w(this.getFormConfig())}get filteredTodos(){return this.memo("filteredTodos",()=>{let q=this.todos||[];switch(this.filter){case"active":return q.filter((G)=>!G.completed);case"completed":return q.filter((G)=>G.completed);default:return q}},[this.todos,this.filter])}get stats(){return this.memo("stats",()=>{let q=this.todos||[];return{total:q.length,active:q.filter((G)=>!G.completed).length,completed:q.filter((G)=>G.completed).length}},[this.todos])}async onMount(){await this.loadTodos()}async loadTodos(){this.loading=!0;try{let G=await(await fetch("/api/todos")).json();this.todos=Array.isArray(G)?G:[]}catch(q){console.error("❌ Failed to load todos:",q),this.todos=[],M.error(I("toast.error.load"),3000,"toast.error.load")}finally{this.loading=!1}}handleToggleTodo=async(q)=>{let G=this.todos.find((O)=>O.id===q);if(!G)return;let J=G.completed;try{if(await fetch(`/api/todos/${q}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:J?0:1})}),await this.loadTodos(),J)M.info(I("toast.info.uncompleted"),2000,"toast.info.uncompleted");else M.info(I("toast.info.completed"),2000,"toast.info.completed")}catch(O){console.error("❌ Failed to toggle todo:",O),M.error(I("toast.error.toggle"),3000,"toast.error.toggle")}};handleDeleteTodo=async(q)=>{let G=this.todos.find((O)=>O.id===q);if(!G)return;if(await M0.confirm({title:"Delete Task",titleTranslateKey:"popup.delete.title",message:`Are you sure you want to delete "${G.title}"? This action cannot be undone.`,messageTranslateKey:"popup.delete.message",confirmLabel:"Delete",confirmTranslateKey:"popup.delete.confirm",cancelLabel:"Cancel",cancelTranslateKey:"popup.cancel",variant:"danger",icon:"fas fa-trash-alt",onConfirm:async()=>{try{await fetch(`/api/todos/${q}`,{method:"DELETE"}),this.todos=this.todos.filter((O)=>O.id!==q),M.success(I("toast.success.deleted"),2000,"toast.success.deleted")}catch(O){console.error("❌ Failed to delete todo:",O),M.error(I("toast.error.delete"),3000,"toast.error.delete"),await this.loadTodos()}},onCancel:()=>{console.log("Delete cancelled")}}))console.log("User confirmed deletion")};handleSetFilter=(q)=>{this.filter=q,localStorage.setItem("todo-filter",q)};getFormConfig(){return{fields:[{name:"title",type:"text",placeholder:I("todo.placeholder"),className:"",validation:{required:!0,minLength:1,message:I("todo.msg.required")}}],endpoint:"/api/todos",method:"POST",autoValidate:!0,submitButton:{label:"➕",loadingLabel:"Adding...",className:"btn btn--primary btn--icon-only"},className:"__form__ __form__--linear",onSuccess:async()=>{this.formInstance=new w(this.getFormConfig()),await this.loadTodos(),M.success(I("toast.success.created"),2000,"toast.success.created")},onValidationError:(q)=>{let G=Object.values(q)[0];if(G)M.warning(G,3000)},onError:(q)=>{console.error("❌ Failed to create todo:",q),M.error(I("toast.error.create"),3000,"toast.error.create")}}}render(){let q=this.stats,G=this.filteredTodos;return X("div",{className:"__page__"},this.loading?X("div",{className:"alert alert-info"},X("i",{className:"fas fa-spinner fa-spin",style:"margin-right: 8px;"}),"Loading your todos..."):null,X("div",{className:"__card__"},this.formInstance?this.formInstance.render():X("div",{},"Loading form...")),X("div",{className:"__card__ __card__--secondary",style:"scale: 0.9; display: flex ; justify-content: space-evenly; align-items: center; gap: 10px !important;"},this.createFilterButton("all","All",q.total,"fa-list"),this.createFilterButton("active","Active",q.active,"fa-bolt"),this.createFilterButton("completed","Completed",q.completed,"fa-check-circle")),G.length===0&&!this.loading?X("div",{className:"__card__ __card__--compact"},X("div",{className:"card-header"},X("h2",{className:"card-title"}),X("div",{className:"card-body"},X("div",{className:"empty-state__icon"},X("i",{className:"fas fa-clipboard-list",style:"font-size: 3rem;"})),X("p",{},this.filter==="all"?I("todo.empty.none"):I("todo.empty.none_filtered",{filter:"filter."+this.filter}))),X("p",{className:"empty-state__description","data-translate":"todo.empty.cta"},this.filter==="all"?I("todo.empty.cta"):I("todo.empty.switch")))):null,G.length>0?X("div",{className:"__card_container__ __card_container__--column"},...G.map((J)=>this.renderTodoItem(J))):null)}createFilterButton(q,G,J,O){let Q=this.filter===q,W=()=>this.handleSetFilter(q);return X("button",{className:Q?"todo_page_filter_button btn btn--primary":" todo_page_filter_button btn btn--secondary","data-translate":`todo.filter.${q}`,onclick:W},X("i",{className:`fas ${O}`}),`${I(`todo.filter.${q}`,{count:String(J)})}`)}renderTodoItem(q){let G=()=>this.handleToggleTodo(q.id),J=()=>this.handleDeleteTodo(q.id);return X("div",{className:"__card__ __card__--tertiary __card__--hoverable",key:String(q.id),style:"display: flex; align-items: center; gap: var(--spacing-md);"},X("label",{className:"form-checkbox",style:"flex: 1;"},X("input",{type:"checkbox",checked:q.completed?!0:!1,onchange:G}),X("span",{style:q.completed?"text-decoration: line-through; opacity: 0.6;":""},q.title)),X("button",{className:"btn btn--danger btn--small",onclick:J,title:"Delete task"},X("i",{className:"fas fa-times"})))}};$([B],L0.prototype,"todos",void 0),$([B],L0.prototype,"loading",void 0),$([B],L0.prototype,"filter",void 0),$([B],L0.prototype,"formInstance",void 0)});F();var j0=[{path:"/",component:()=>Promise.resolve().then(() => (k0(),x0)),meta:{title:"Home"}},{path:"/todos",component:()=>Promise.resolve().then(() => (w0(),V0)),meta:{title:"Todos"}}];F();F();F();F();V();t();class J0 extends R{constructor(){super(...arguments);this.mobileMenuOpen=!1;this.currentPath="/";this.theme="dark";this.currentLanguage="en";this.dropdownOpen=!1}themes=["dark","rose","hacker"];themeIcons={dark:"fas fa-crown",rose:"fas fa-dove",hacker:"fas fa-terminal"};languages=[{code:"en",name:"English",flag:"fi fi-us"},{code:"ar",name:"العربية",flag:"fi fi-eg"},{code:"es",name:"Español",flag:"fi fi-es"},{code:"fr",name:"Français",flag:"fi fi-fr"}];handleNavigationEvent;handlePopStateEvent;handleClickOutsideDropdown;handleClickOutsideMobileMenu;async onMount(){this.currentPath=window.location.pathname,this.handlePopStateEvent=()=>{this.currentPath=window.location.pathname,this.update()},window.addEventListener("popstate",this.handlePopStateEvent),this.handleNavigationEvent=(q)=>{this.currentPath=q.detail.path,this.update()},window.addEventListener("navigation",this.handleNavigationEvent),this.setupScrollEffect(),this.initializeTheme(),this.initializeLanguage(),this.handleClickOutsideDropdown=(q)=>{if(!q.target.closest(".dropdown-parent"))this.dropdownOpen=!1,this.update()},document.addEventListener("click",this.handleClickOutsideDropdown),this.handleClickOutsideMobileMenu=(q)=>{let G=q.target;if(this.mobileMenuOpen&&!G.closest(".nav-links")&&!G.closest(".nav-toggle"))this.mobileMenuOpen=!1,this.update()},document.addEventListener("click",this.handleClickOutsideMobileMenu)}onUnmount(){if(this.handlePopStateEvent)window.removeEventListener("popstate",this.handlePopStateEvent);if(this.handleNavigationEvent)window.removeEventListener("navigation",this.handleNavigationEvent);if(this.handleClickOutsideDropdown)document.removeEventListener("click",this.handleClickOutsideDropdown);if(this.handleClickOutsideMobileMenu)document.removeEventListener("click",this.handleClickOutsideMobileMenu)}handleNavClick(q,G){q.preventDefault(),this.currentPath=G,this.mobileMenuOpen=!1,m(G),this.update()}render(){return X("nav",{className:"__navbar__"},X("div",{className:"nav-right"},X("a",{href:"/",className:"nav-logo",onClick:(q)=>this.handleNavClick(q,"/")},I("nav.logo.text")),X("div",{className:"nav-separator hide-on-mobile"}),X("div",{className:`nav-links ${this.mobileMenuOpen?"active":""}`},X("a",{href:"/",className:`nav-link ${this.isActivePath("/")?"active":""}`,"data-translate":"nav.home",onClick:(q)=>this.handleNavClick(q,"/")},X("i",{className:"fas fa-home",style:"margin-right: 0.5rem;"}),I("nav.home")),X("a",{href:"/todos",className:`nav-link ${this.isActivePath("/todos")?"active":""}`,"data-translate":"nav.todos",onClick:(q)=>this.handleNavClick(q,"/todos")},X("i",{className:"fas fa-tasks",style:"margin-right: 0.5rem;"}),I("nav.todos")))),X("div",{className:"nav-left"},X("div",{className:"nav-actions"},X("div",{className:"in-nav-actions-elem",onClick:(q)=>this.toggleTheme(q),"aria-label":"Toggle theme",title:`Switch to ${this.themes[(this.themes.indexOf(this.theme)+1)%this.themes.length]} mode`},X("i",{className:this.themeIcons[this.theme]})),X("div",{className:"nav-separator"}),this.renderLanguageDropdown()),X("button",{className:`nav-toggle ${this.mobileMenuOpen?"active":""}`,onClick:(q)=>this.toggleMobileMenu(q),"aria-label":"Toggle menu","aria-expanded":this.mobileMenuOpen.toString()},X("span",null),X("span",null),X("span",null))))}renderLanguageDropdown(){let q=this.getCurrentLanguageData(),G=X("button",{className:"dropdown-trigger in-nav-actions-elem",onClick:(O)=>this.toggleLanguageDropdown(O),"aria-label":"Select language","aria-expanded":this.dropdownOpen.toString()},X("span",{className:q.flag}),X("span",{className:`dropdown-arrow ${this.dropdownOpen?"dropdown-arrow--open":""}`},X("i",{className:"fas fa-chevron-down"}))),J=this.dropdownOpen?X("div",{className:"dropdown-menu"},...this.languages.map((O)=>X("button",{className:`dropdown-item ${O.code===this.currentLanguage?"dropdown-item--active":""}`,onClick:(Q)=>this.selectLanguage(Q,O.code)},X("span",{className:O.flag}),X("span",{},O.name),O.code===this.currentLanguage?X("i",{className:"fas fa-check",style:"margin-left: auto; color: var(--color-success);"}):null))):null;return X("div",{className:"dropdown-parent"},G,J)}initializeTheme(){let q=localStorage.getItem("app-theme");if(q&&this.themes.includes(q))this.theme=q;else this.theme="dark";this.applyTheme(this.theme),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(G)=>{if(!localStorage.getItem("app-theme"))this.theme=G.matches?"dark":"dark",this.applyTheme(this.theme),this.update()})}applyTheme(q){document.documentElement.setAttribute("data-theme",q),localStorage.setItem("app-theme",q)}toggleTheme(q){q.preventDefault(),q.stopPropagation();let J=(this.themes.indexOf(this.theme)+1)%this.themes.length;this.theme=this.themes[J],this.applyTheme(this.theme),this.update()}initializeLanguage(){let q=localStorage.getItem("app-language");if(q&&this.languages.some((G)=>G.code===q))this.currentLanguage=q;else{let G=navigator.language.split("-")[0];if(this.languages.some((J)=>J.code===G))this.currentLanguage=G}this.applyLanguage(this.currentLanguage)}applyLanguage(q){document.documentElement.setAttribute("lang",q),document.documentElement.setAttribute("dir",q==="ar"?"rtl":"ltr"),localStorage.setItem("app-language",q),window.dispatchEvent(new CustomEvent("languagechange",{detail:{language:q}}))}toggleLanguageDropdown(q){q.preventDefault(),q.stopPropagation(),this.dropdownOpen=!this.dropdownOpen,this.update()}selectLanguage(q,G){q.preventDefault(),q.stopPropagation(),this.currentLanguage=G,this.dropdownOpen=!1,this.applyLanguage(G),this.update()}toggleMobileMenu(q){q.preventDefault(),q.stopPropagation(),this.mobileMenuOpen=!this.mobileMenuOpen,this.update()}setupScrollEffect(){window.addEventListener("scroll",()=>{let q=document.querySelector("nav"),G=window.pageYOffset;if(q)if(G>50)q.style.boxShadow="var(--shadow-lg)";else q.style.boxShadow="var(--shadow-md)"})}isActivePath(q){return this.currentPath===q}getCurrentLanguageData(){return this.languages.find((q)=>q.code===this.currentLanguage)||this.languages[0]}}$([B],J0.prototype,"mobileMenuOpen",void 0),$([B],J0.prototype,"currentPath",void 0),$([B],J0.prototype,"theme",void 0),$([B],J0.prototype,"currentLanguage",void 0),$([B],J0.prototype,"dropdownOpen",void 0);F();F();V();class O0 extends R{constructor(){super(...arguments);this.visible=!1;this.message="";this.variant="spinner";this.size="medium";this.overlay=!0;this.progress=0;this.showProgress=!1}animationFrame=null;hideTimeout=null;async onMount(){this.setupKeyboardListener(),this.initializeAccessibility(),window.addEventListener("languagechange",()=>{if(!this.message)this.update()})}onUnmount(){if(this.animationFrame)cancelAnimationFrame(this.animationFrame);if(this.hideTimeout)clearTimeout(this.hideTimeout);document.removeEventListener("keydown",this.handleKeyPress)}render(){let q=["__loader_container__",this.overlay?"__loader_container__--overlay":"",`__loader_container__--${this.size}`].filter(Boolean).join(" ");return X("div",{className:q,"data-status":this.visible?"visible":"hidden",role:"status","aria-live":"polite","aria-busy":"true"},X("div",{className:"__loader_bg__"}),X("div",{className:"__loader__"},this.renderSpinner(),this.renderMessage(),this.showProgress?this.renderProgressBar():null))}renderSpinner(){let q=`__spinner_container__ __spinner_container__--${this.variant}`;switch(this.variant){case"dots":return X("div",{className:q},X("div",{className:"__spinner_dot__"}),X("div",{className:"__spinner_dot__"}),X("div",{className:"__spinner_dot__"}));case"pulse":return X("div",{className:q},X("div",{className:"__spinner_pulse__"}));case"spinner":default:return X("div",{className:q},X("div",{className:"__spinner_icon__"}))}}renderMessage(){let q=this.message||I("loading");return X("div",{className:"__spinner_text__","data-translate":this.message?void 0:"loading"},q)}renderProgressBar(){return X("div",{className:"__progress_container__"},X("div",{className:"__progress_bar__",style:`width: ${this.progress}%`,"aria-valuenow":this.progress.toString(),"aria-valuemin":"0","aria-valuemax":"100"}),X("div",{className:"__progress_text__"},`${Math.round(this.progress)}%`))}show(q){if(typeof q==="string")this.message=q;else if(q)this.message=q.message||"",this.variant=q.variant||"spinner",this.size=q.size||"medium",this.overlay=q.overlay!==void 0?q.overlay:!0;this.visible=!0,this.progress=0,this.showProgress=!1,this.applyBodyLock(),this.update()}hide(q=0){if(this.hideTimeout)clearTimeout(this.hideTimeout);if(q>0)this.hideTimeout=window.setTimeout(()=>{this.performHide()},q);else this.performHide()}setMessage(q){this.message=q,this.update()}setProgress(q){this.showProgress=!0,this.progress=Math.max(0,Math.min(100,q)),this.update()}updateProgress(q){this.setProgress(this.progress+q)}performHide(){this.visible=!1,this.message="",this.progress=0,this.showProgress=!1,this.removeBodyLock(),this.update()}applyBodyLock(){if(this.overlay)document.body.style.overflow="hidden"}removeBodyLock(){document.body.style.overflow=""}setupKeyboardListener(){this.handleKeyPress=this.handleKeyPress.bind(this),document.addEventListener("keydown",this.handleKeyPress)}handleKeyPress=(q)=>{if(q.key==="Escape"&&this.visible&&!this.overlay)this.hide()};initializeAccessibility(){let q=this.element?.querySelector(".__loader_container__");if(q)q.setAttribute("aria-label",I("loading"))}isVisible(){return this.visible}getStatus(){return{visible:this.visible,message:this.message,progress:this.progress}}}$([B],O0.prototype,"visible",void 0),$([B],O0.prototype,"message",void 0),$([B],O0.prototype,"variant",void 0),$([B],O0.prototype,"size",void 0),$([B],O0.prototype,"overlay",void 0),$([B],O0.prototype,"progress",void 0),$([B],O0.prototype,"showProgress",void 0);q0();G0();V();class Q0 extends R{navbar=null;loader=null;toast=null;popup=null;async onMount(){requestAnimationFrame(async()=>{let q=document.querySelector("[data-toast-mount]");if(q){this.toast=new u;try{await this.toast.mount(q),window.__globalToast=this.toast}catch(Q){console.error("❌ Failed to mount toast:",Q)}}else console.error("❌ Toast container not found");let G=document.querySelector("[data-popup-mount]");if(G){this.popup=new l;try{await this.popup.mount(G),window.__globalPopup=this.popup}catch(Q){console.error("❌ Failed to mount popup:",Q)}}else console.error("❌ Popup container not found");let J=document.querySelector("[data-loader-mount]");if(J){this.loader=new O0;try{await this.loader.mount(J)}catch(Q){console.error("❌ Failed to mount loader:",Q)}}else console.error("❌ Loader container not found");let O=document.querySelector("[data-navbar-mount]");if(O){this.navbar=new J0;try{await this.navbar.mount(O)}catch(Q){console.error("❌ Failed to mount navbar:",Q)}}else console.error("❌ Navbar container not found")})}onUnmount(){if(this.toast)this.toast.unmount(),this.toast=null;if(this.popup)this.popup.unmount(),this.popup=null;if(this.loader)this.loader.unmount(),this.loader=null;if(this.navbar)this.navbar.unmount(),this.navbar=null}render(){return D`
                    <div class="__layout__">
                        <!-- Navbar mount point -->
                        <div data-navbar-mount style="margin-bottom: 60px;"></div>

                        <!-- Main content area -->
                        <main class="__layout_child__">
                            <div data-router-outlet="true"></div>
                        </main>

                        <!-- Footer -->
                        <footer class="__footer__">
                            <p class="__text__" data-translate="layout.footer.text">${I("layout.footer.text")}</p>
                            <a class="__link__" data-translate="layout.footer.link" href="https://github.com/maysara-elshewehy" target="_blank">${I("layout.footer.link")}</a>
                        </footer>

                        <!-- Toast mount point -->
                        <div data-toast-mount></div>

                        <!-- Popup mount point -->
                        <div data-popup-mount></div>

                        <!-- Loader mount point -->
                        <div data-loader-mount></div>
                    </div>
                `}styles(){return P``}}V();class W0 extends R{layout=null;async onMount(){let q=this.element?.querySelector("[data-layout-mount]");if(q)this.layout=new Q0,await this.layout.mount(q),await new Promise((J)=>setTimeout(J,10)),N0(()=>{if(this.layout?.loader)this.layout.loader.show(I("global.apply_changes_reloading"));location.reload()});else console.error("❌ Layout container not found")}onUnmount(){if(this.layout)this.layout.unmount(),this.layout=null}render(){return D`
                <div class="app-wrapper">
                    <div data-layout-mount></div>
                </div>
            `}styles(){return P`
                .app-wrapper {
                    width: 100%;
                    height: 100%;
                }
            `}}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",K0);else K0();async function K0(){try{let q=document.querySelector("#app");if(!q){console.error("❌ Root element #app not found");return}if(await new W0().mount(q),await new Promise((O)=>setTimeout(O,10)),c.init(j0,"history","/","auto"),!document.querySelector('[data-router-outlet="true"]'))console.error("❌ Router outlet not found!")}catch(q){console.error("❌ Failed to initialize app:",q)}}

//# debugId=BC022D27B1428D8564756E2164756E21
